# Google Apps Script (GAS) セットアップ手順

このプロジェクトのバックエンド（ユーザー認証、データ保存）としてGoogle Apps Scriptを使用します。
以下の手順に従ってセットアップを行ってください。

## 1. Google スプレッドシートの作成
1.  Googleドライブで「新規」→「Google スプレッドシート」を作成します。
2.  スプレッドシートの名前を適当なもの（例: `OyoAppDB`）に変更します。
3.  **スプレッドシートID**をコピーしておきます。
    *   URL `https://docs.google.com/spreadsheets/d/abc123456789.../edit` の `abc123456789...` の部分です。

## 2. スクリプトの作成
1.  スプレッドシートのメニューから「拡張機能」→「Apps Script」を選択します。
2.  エディタが開くので、既存のコード（`myFunction`など）を削除します。
3.  このプロジェクトの `gas_code.js` の内容をすべてコピーして、Apps Scriptのエディタに貼り付けます。

## 3. 設定の変更
1.  貼り付けたコードの38行目付近にある `SPREADSHEET_ID` 変数を見つけます。
    ```javascript
    const SPREADSHEET_ID = 'YOUR_SPREADSHEET_ID'; // ★ここにスプレッドシートIDを入力してください★
    ```
2.  `'YOUR_SPREADSHEET_ID'` の部分を、先ほどコピーした実際のスプレッドシートIDに書き換えます。

## 4. デプロイ
1.  画面右上の「デプロイ」ボタンをクリックし、「新しいデプロイ」を選択します。
2.  「種類の選択」の歯車アイコンをクリックし、「ウェブアプリ」を選択します。
3.  以下の設定を行います：
    *   **説明**: `v1` など（任意）
    *   **次のユーザーとして実行**: `自分` (Me)
    *   **アクセスできるユーザー**: `全員` (Anyone)
        *   **重要**: これを選択しないと、アプリからアクセスできません。Googleアカウントにログインしていないユーザーも含めるためです。
4.  「デプロイ」ボタンをクリックします。
5.  「アクセスを承認」が求められた場合：
    *   「アクセスを承認」をクリック →自分のアカウントを選択 → 「詳細」をクリック → 「（安全ではないページ）に移動」をクリック → 「許可」をクリックします。
6.  **ウェブアプリのURL** が表示されるので、これをコピーします。
    *   例: `https://script.google.com/macros/s/.../exec`

## 5. アプリへの設定
1.  VS Codeに戻り、アプリ（`index.html`）を開きます。
2.  画面上の「設定（同期）」ボタン（または新しく追加されるログイン画面の設定）から、コピーした **GASのURL** を入力して保存します。

以上でバックエンドの準備は完了です！
